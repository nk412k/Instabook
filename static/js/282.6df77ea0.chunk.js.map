{"version":3,"file":"static/js/282.6df77ea0.chunk.js","mappings":"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","sources":["shared/components/UIElements/Map.js","posts/components/PostItem.js","posts/components/PostList.js","posts/pages/UserPosts.js"],"sourcesContent":["import React, { useRef, useEffect } from \"react\";\r\n\r\nimport \"./Map.css\";\r\n\r\nconst Map = (props) => {\r\n  const mapRef = useRef();\r\n\r\n  const { center, zoom } = props;\r\n\r\n  useEffect(() => {\r\n    new window.ol.Map({\r\n      target: mapRef.current.id,\r\n      layers: [\r\n        new window.ol.layer.Tile({\r\n          source: new window.ol.source.OSM(),\r\n        }),\r\n      ],\r\n      view: new window.ol.View({\r\n        center: window.ol.proj.fromLonLat([center.lng, center.lat]),\r\n        zoom: zoom,\r\n      }),\r\n    });\r\n  }, [center, zoom]);\r\n\r\n  return (\r\n    <div\r\n      ref={mapRef}\r\n      className={`map ${props.className}`}\r\n      style={props.style}\r\n      id=\"map\"\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default Map;\r\n","import Button from \"../../shared/components/FormElements/Button\";\r\nimport Card from \"../../shared/components/UIElements/Card\";\r\nimport \"./PostItem.css\";\r\nimport Modal from \"../../shared/components/UIElements/Modal\";\r\nimport Map from \"../../shared/components/UIElements/Map\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport { AuthContext } from \"../../shared/context/Auth-context\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\n\r\nconst PostItem = (props) => {\r\n  const [showMap, setShowMap] = useState(false);\r\n  const [showDeleteModal, setDeleteModal] = useState(false);\r\n  const closeMapHandler = () => setShowMap(false);\r\n  const openMapHandler = () => setShowMap(true);\r\n  const {isLoading,error,sendRequest,errorHandler}=useHttpClient();\r\n  const auth=useContext(AuthContext);\r\n\r\n  const openDeleteModalHandler = () => setDeleteModal(true);\r\n  const closeDeleteModalHandler = () => setDeleteModal(false);\r\n  const confirmDeleteModalHandler = async() => {\r\n    try{\r\n      setDeleteModal(false);\r\n      await sendRequest(\r\n        process.env.REACT_APP_BACKEND_URL + \"/posts/\" + props.id,\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      props.onDelete(props.id);\r\n    }\r\n    catch(err){\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={error} onClear={errorHandler} />\r\n      <Modal\r\n        show={showMap}\r\n        header={props.address}\r\n        onCancel={closeMapHandler}\r\n        contentClass=\"post-item__modal-content\"\r\n        footerClass=\"post-item__modal-actions\"\r\n        footer={<Button onClick={closeMapHandler}>CLOSE</Button>}\r\n      >\r\n        <div className=\"map-container\">\r\n          <Map center={props.coordinates} zoom={17} />\r\n        </div>\r\n      </Modal>\r\n      <Modal\r\n        show={showDeleteModal}\r\n        header=\"Are you sure?\"\r\n        onCancel={closeDeleteModalHandler}\r\n        // contentClass=\"post-item__modal-content\"\r\n        footerClass=\"post-item__modal-actions\"\r\n        footer={\r\n          <React.Fragment>\r\n            <Button inverse onClick={closeDeleteModalHandler}>\r\n              Cancel\r\n            </Button>\r\n            <Button danger onClick={confirmDeleteModalHandler}>\r\n              Delete\r\n            </Button>\r\n          </React.Fragment>\r\n        }\r\n      >\r\n        <p>\r\n          Are you sure you want to proceed and delete the post? Later it cannot\r\n          be undone\r\n        </p>\r\n      </Modal>\r\n      <li className=\"post-item\">\r\n        <Card className=\".post-item__content\">\r\n          {isLoading && <LoadingSpinner asOverlay />}\r\n          <div className=\"post-item__image\">\r\n            <img\r\n              src={process.env.REACT_APP_ASSET_URL+`/${props.image}`}\r\n              alt={props.title}\r\n            />\r\n          </div>\r\n          <div className=\"post-item__info\">\r\n            <h2>{props.title}</h2>\r\n            <h3>{props.address}</h3>\r\n            <p>{props.description}</p>\r\n          </div>\r\n          <div className=\"post-item__actions\">\r\n            <Button inverse onClick={openMapHandler}>\r\n              View on Map\r\n            </Button>\r\n            {auth.userId === props.creator && (\r\n              <Button to={`/posts/${props.id}`}>Edit</Button>\r\n            )}\r\n            {auth.userId === props.creator && (\r\n              <Button danger onClick={openDeleteModalHandler}>\r\n                Delete\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </Card>\r\n      </li>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default PostItem;\r\n","import Button from \"../../shared/components/FormElements/Button\";\r\nimport Card from \"../../shared/components/UIElements/Card\";\r\nimport PostItem from \"./PostItem\";\r\nimport \"./PostList.css\";\r\n\r\nconst PostList = (props) => {\r\n  if (props.items.length === 0) {\r\n    return (\r\n      <div className=\"post-list center\">\r\n        <Card>\r\n          <h2>No Post Found</h2>\r\n          <Button to='/posts/new'>Share Post</Button>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <ul className=\"post-list\">\r\n      {props.items.map((post) => (\r\n        <PostItem\r\n          title={post.title}\r\n          id={post.id}\r\n          key={post.id}\r\n          image={post.imageUrl}\r\n          description={post.description}\r\n          address={post.address}\r\n          coordinates={post.location}\r\n          creator={post.creator}\r\n          onDelete={props.onDeletePost}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default PostList;\r\n","import PostList from \"../components/PostList\";\r\nimport {useParams} from 'react-router-dom';\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\n\r\n\r\nconst UserPosts=()=>{\r\n    const userId=useParams().userId;\r\n    const [userPosts,setUserPosts]=useState([]);\r\n    const {isLoading,error,sendRequest,errorHandler} =useHttpClient();\r\n    useEffect(()=>{\r\n      const fetchData=async()=>{\r\n        try{\r\n          const responseData = await sendRequest(\r\n            process.env.REACT_APP_BACKEND_URL+\"/posts/user/\" + userId\r\n          );\r\n        setUserPosts(responseData.posts);\r\n        }\r\n        catch(error){\r\n          console.log(error);\r\n        }        \r\n      }\r\n      fetchData();\r\n    },[sendRequest,userId]);\r\n\r\n    const postDeleteHandler=(postId)=>{\r\n      setUserPosts(prevPosts=>prevPosts.filter(p=>p.id!==postId));\r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        <ErrorModal error={error} onClear={errorHandler} />\r\n        {isLoading && <LoadingSpinner asOverlay className=\"center\" />}\r\n        {!isLoading && userPosts && (\r\n          <PostList items={userPosts} onDeletePost={postDeleteHandler} />\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default UserPosts;"],"names":["props","mapRef","useRef","center","zoom","useEffect","window","ol","Map","target","current","id","layers","layer","Tile","source","OSM","view","View","proj","fromLonLat","lng","lat","ref","className","style","useState","showMap","setShowMap","showDeleteModal","setDeleteModal","closeMapHandler","useHttpClient","isLoading","error","sendRequest","errorHandler","auth","useContext","AuthContext","closeDeleteModalHandler","confirmDeleteModalHandler","process","Authorization","token","onDelete","console","log","ErrorModal","onClear","Modal","show","header","address","onCancel","contentClass","footerClass","footer","Button","onClick","coordinates","inverse","danger","Card","LoadingSpinner","asOverlay","src","image","alt","title","description","userId","creator","to","items","length","map","post","imageUrl","location","onDeletePost","useParams","userPosts","setUserPosts","fetchData","responseData","posts","postId","prevPosts","filter","p"],"sourceRoot":""}